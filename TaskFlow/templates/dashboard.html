<!DOCTYPE html>
<html>
<head>
  <title>Dashboard</title>
</head>
<!--<style>

    body{
        background-color: #f8fafc;
        text-align:center;
    }

    .ha1{
        background-color: #d6d6d640;
        width: 40%;
        font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        margin: auto;
        padding-top: 30px;
        padding-bottom: 30px;
        border-top-left-radius: 20px;
        border-top-right-radius: 20px;
        border:0.2px solid rgba(0, 0, 0, 0.376);
        margin-top: 3%;
    }

    .ha2{
        background-color: #d6d6d640;
        width: 40%;
        margin: auto;
        color: #111827;
        padding-top: 30px;
        padding-bottom: 30px;
        margin-top: 10px;
        border-bottom-left-radius: 20px;
        border-bottom-right-radius: 20px;
        border:0.2px solid rgba(0, 0, 0, 0.376);
    }

    button{
        font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-size: 15px;
        padding: 10px;
        width: 90%;
        border-radius: 10px;
        border: 0.2px solid rgba(0, 0, 0, 0.376);
        background-color: rgba(109, 157, 157, 0.524);
    }

    button:hover{
         background-color: rgba(52, 203, 153, 0.672);
    }

    #logout{
        text-decoration:none;
        color: #111827;
    }

    #logout:hover{
        background-color: rgb(223, 223, 223);
        padding: 8px 30px;
        border-radius: 8px;
        border: 0.2px solid rgba(0, 0, 0, 0.376);
    }


</style>-->

<style>

  .sidebar{
    width: 250px;
    height: 628px;
    margin: 0px;
    padding: 15px;
    margin-top: -20px;
    background-color: rgba(255, 255, 255, 0.102);
    border-right: 0.2px solid rgba(255, 255, 255, 0.442);
  }

  .sidesec{
    margin-top: 20px;
  }

  .sidecolumn{
    margin-left: 100px;
  }

  #imgsebg{
    width: 100%;
    height: 65%;
    border-top-left-radius: 9px;
    border-top-right-radius: 9px;
  }

  .temp{
    width: 200px;
    height: 120px;
    background-color: black;
    border: 0.2px solid rgba(255, 255, 255, 0.442);
    border-radius: 10px;
    margin: 20px;
    
  }

  .tempin{
    width: 100%;
    height: 35%;
    margin-top: -4px;
    background-color: rgba(255, 255, 255, 0.594);
    color: black;
    border-bottom-left-radius: 9px;
    border-bottom-right-radius: 9px;
  }

  .dashb{
    display: flex;
  }

  .sidec1{
    display: flex;
  }

  .sidec2{
    display: flex;
  }

  :root .sidebar{
    background-color: rgba(136, 136, 136, 0.162);
    border-right: 0.2px solid grey;
  }

  body.dark .sidebar{
    background-color: rgba(255, 255, 255, 0.102);
  }

  body.dark #nameh{
    margin-top: 20px; 
    font-size: 35px;
    color: #9b9aa8; 
  }

  

  :root #nameh{
    color: #000000c9; 
    margin-top: 20px; 
    font-size: 35px;
  }

body.dark .sidebarbut{
  color: rgba(255, 255, 255, 0.758);
}

body.dark .sidebarbut:hover{
  background-color: #7b879c3a;
  color: white;
}

:root .sidebarbut{
  color: rgba(0, 0, 0, 0.711);
}

:root .sidebarbut:hover{
  color: black;
}

.sidebarbut{
  width: 100%;
  height: 35px;
  text-align: left;
  padding-left: 10px;
  background-color: transparent;
  border: none;
  margin-bottom: 4px;
  font-size: 15px;
  border: 0.2px solid transparent;
  cursor: pointer;
  font-weight: 500;
}

.sidebarbut:hover{
  background-color: #6b778c36;
  border-radius: 8px;
}

:root #imgmem{
  filter: invert(0); 
}

body.dark #imgmem{
  filter: invert(1);
}

/* Modal Overlay */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.6);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}

/* Modal Box */
.modal-box {
  background: #fff;
  padding: 25px;
  width: 400px;
  border-radius: 10px;
  animation: pop 0.3s ease;
}

@keyframes pop {
  from { transform: scale(0.8); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

.modal-box h2 {
  margin-bottom: 10px;
  text-align: center;
  font-size: 25px;
  color: rgba(0, 0, 0, 0.753);
}

.modal-box input {
  width: 100%;
  padding: 10px;
  margin-bottom: 15px;
  border-radius: 6px;
  border: 1px solid #ccc;
}

.modal-actions {
  display: flex;
  justify-content: space-between;
}

.btn-primary {
  background: #4f46e5;
  color: white;
  padding: 8px 16px;
  border-radius: 6px;
  border: none;
  width: 65%;
  cursor: pointer;
  font-weight: 600;
}

.btn-cancel {
  background: #cfd0d4;
  padding: 8px 16px;
  border-radius: 6px;
  border: none;
  width: 32%;
  cursor: pointer;
  font-weight: 600;
}


</style>
<body>

{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}

<div class="dashb">
  <div class="sidebar">
    <div class="sidesec">
      <button class="sidebarbut"><img src="/static/img/home.png" alt="add-member" height="16px" style="margin-right: 10px;" id="imgmem">Home</button>
      <button title="New" class="sidebarbut" onclick="openProjectModal()"><img src="/static/img/archive.png" alt="add-member" height="16px" style="margin-right: 10px;" id="imgmem">Create New Project</button>
<div id="projectModal" class="modal-overlay">
  <div class="modal-box">
    <h2>Create New Project</h2>
    <hr><br>

    <form method="POST" action="/create-project">
      <input
        type="text"
        name="title"
        placeholder="Project Title"
        required
      />

      <input
        type="date"
        name="deadline"
        required
      />

      <div class="modal-actions">
        <button type="submit" class="btn-primary">Create</button>
        <button type="button" class="btn-cancel" onclick="closeProjectModal()">Cancel</button>
      </div>
    </form>
  </div>
</div>

    </div>
  </div>



  <div class="sidecolumn">

    <h2 id="nameh">Welcome, {{ name }} ðŸ‘‹</h2>
    <div class="sidec1">
      <div class="temp" onclick="selectTemplate('template-co')">
        <img src="/static/img/tempimg1.webp" alt="template" id="imgsebg">
        <div class="tempin">{% for project in projects %}
    <p>
      <strong>{{ project[1] }}</strong>
      (Deadline: {{ project[2] }})
      <a href="/board/{{ project[0] }}">Open</a>
    </p>
  {% else %}
    <p>No projects created yet.</p>
  {% endfor %}</div>
      </div>

      <div class="temp" onclick="selectTemplate('template-lo')">
        <img src="/static/img/tempimg3.avif" alt="template" onclick="selectBg(this.src)" id="imgsebg">
        <div class="tempin">hii</div>
      </div>

      <div class="temp" onclick="selectTemplate('template-im')">
        <img src="/static/img/tempimg4.jpeg" alt="template" id="imgsebg">
        <div class="tempin">hii</div>
      </div>
  </div>
  <div class="sidec2">
       <div class="temp" onclick="selectTemplate('template-im5')">
        <img src="/static/img/img5.jpg" alt="template" id="imgsebg">
        <div class="tempin">hii</div>
      </div>

      <div class="temp" onclick="selectTemplate('')">
        <img src="/static/img/logo.png" alt="template" id="imgsebg">
        <div class="tempin">hii</div>
      </div>

      <div class="temp" onclick="selectTemplate('')">
        <img src="/static/img/img2.png" alt="template" id="imgsebg">
        <div class="tempin">hii</div>
      </div>
  </div>
  </div>
</div>

<script>
  function selectBg(imagePath) {
    localStorage.setItem("taskprogBg", imagePath);
    alert("Background selected!");
  }


function selectTemplate(templateName) {
  localStorage.setItem("selectedBoardTemplate", templateName);
  window.location.href = "/board/1";
}

function openProjectModal() {
  document.getElementById("projectModal").style.display = "flex";
}

function closeProjectModal() {
  document.getElementById("projectModal").style.display = "none";
}
</script>



<!-- <h2>Most popular templates</h2>
    <div class="card-grid">
        <div class="card">Kanban Template</div>
        <div class="card">Daily Task Management</div>
        <div class="card">Remote Team Hub</div>
    </div>

    <h2>Recently viewed</h2>
    <div class="card-grid">
        <div class="card gradient">My Trello Board</div>
        <div class="card">Daily Task Management</div>
        <div class="card light">Car website</div>
    </div>

</div>

<h2 style="color: #111827; margin-top: 20px; font-size: 35px;">Welcome, {{ name }} ðŸ‘‹</h2>

<div class="ha1">
<br>-->


<a href="/create-project">
  <button title="New">Create New Project</button>
</a><br><br>

<!--<a href="/ai-create-project">
  <button>Create New Project with using AI</button>
</a><br><br>
<a href="/ai-planner">AI Planner</a>

<a href="/logout" id="logout">Logout</a>
<br>
</div>


<div class="ha2">
<h3>Your Projects</h3>

<div>
  {% for project in projects %}
    <p>
      <strong>{{ project[1] }}</strong>
      (Deadline: {{ project[2] }})
      <a href="/board/{{ project[0] }}">Open</a>
    </p>
  {% else %}
    <p>No projects created yet.</p>
  {% endfor %}
</div>

</div> -->
{% endblock %}

</body>
</html>
